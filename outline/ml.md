# CodeGreenBook



结构化数据：

类别特征：

1.有序类别特征：

例如衣服大中小；

编码（大小关系）

2.无序类别特征

例如颜色

倾向one-hot编码->引入稀疏性->lgb不建议使用onehot

nlp中单词，一维是无序的，高维是有序的

word2vec

数值特征：

默认有序，分析分布



LGB模型：

1.对树模型（非参模型），保持单调性的特征变换没有必要； （例如，log变换->使数据集中无意义）

因为没有改变数值特征的排序关系，不影响寻找阈值来分割左右节点；

但是参数模型（神经网络）一定需要归一化出口；

2.类别特征在LGB中特殊处理：

理论讲枚举所有组合，寻找划分组合；

3.缺失值处理：





特征工程：

1.编码

id特征：去除；

default特征：0、1编码；

mo'nth特征：类别特征；



2.特征粗粒化：

1-12月分为季度

存款->分为是否有存款

特征分箱

3.特征细粒化：

总天数特征->8.1 是今年第多少天

4.特征周期化：

本月第几周特征->

年龄的模特特征->年龄mod30

5.特征组合：

日月 groupby

6.特征相互统计：

对某种job （类别特征）统计balance 次数（类别特征）或者数组特征做统计（sum、std、mid）



trick：

1.bagging策略和类别特征选择

训练多个model，取均值；

尝试作为类别特征效果；

2.pdays-> -1(代表999无穷)

lgb -1 默认为NaN

改为999

3.样本迁移

训练集和测试集的分布相差大

样本赋权

训练集标签->0

测试集标签->1

随机森林分类，如果能分清，则说明训练集与测试卷分布相差大

偏向1认为偏向测试集；









